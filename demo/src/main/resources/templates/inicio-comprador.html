<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Dashboard de Comprador - Cultivus">
    <title>Inicio - Cultivus</title>

    <link rel="stylesheet" th:href="@{/comprador.css}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
        integrity="sha512-RXf+QSDCUQs6Q0p2U2uD2OeR5xw8n5T6vCJ7/3zvK3YyEdSpYohhjFExz04szsP1CZq0w0C+YyXWZP8y+e2xUg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>

<body>

    <!-- Header Comprador -->
    <header th:replace="fragments/header-comprador :: siteHeader"></header>

    <!-- SecciÃ³n de Bienvenida -->
    <section class="welcome-section">
        <div class="container">
            <div class="welcome-content">
                <div class="welcome-text">
                    <h1>Â¡Bienvenido de nuevo! ðŸ‘‹</h1>
                    <p>Descubre productos frescos y de calidad directamente de productores locales</p>
                </div>
                <div class="welcome-stats">
                    <div class="stat-card">
                        <span class="stat-number">0</span>
                        <span class="stat-label">En el carrito</span>
                    </div>
                    <div class="stat-card">
                        <span class="stat-number">0</span>
                        <span class="stat-label">Pedidos</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- CategorÃ­as RÃ¡pidas -->
    <section class="quick-categories">
        <div class="container">
            <div class="section-header">
                <h2>Explorar por CategorÃ­a</h2>
                <a th:href="@{/category}" class="view-all">
                    Ver todas
                    <i class="fas fa-arrow-right"></i>
                </a>
            </div>

            <div class="categories-grid">
                <a th:href="@{/frutas}" class="category-quick">
                    <div class="category-icon">
                        <i class="fas fa-apple-alt"></i>
                    </div>
                    <h3>Frutas</h3>
                    <p>Frescas</p>
                </a>

                <a th:href="@{/verduras}" class="category-quick">
                    <div class="category-icon">
                        <i class="fas fa-carrot"></i>
                    </div>
                    <h3>Verduras</h3>
                    <p>Del campo</p>
                </a>

                <a th:href="@{/lacteos}" class="category-quick">
                    <div class="category-icon">
                        <i class="fas fa-cheese"></i>
                    </div>
                    <h3>LÃ¡cteos</h3>
                    <p>Naturales</p>
                </a>

                <a th:href="@{/cafe}" class="category-quick">
                    <div class="category-icon">
                        <i class="fas fa-mug-hot"></i>
                    </div>
                    <h3>CafÃ©</h3>
                    <p>Colombiano</p>
                </a>

                <a th:href="@{/granos}" class="category-quick">
                    <div class="category-icon">
                        <i class="fas fa-seedling"></i>
                    </div>
                    <h3>Granos</h3>
                    <p>OrgÃ¡nicos</p>
                </a>

                <a th:href="@{/miel}" class="category-quick">
                    <div class="category-icon">
                        <i class="fas fa-jar"></i>
                    </div>
                    <h3>Miel</h3>
                    <p>Pura</p>
                </a>
            </div>
        </div>
    </section>

    <!-- Productos Destacados -->
    <section class="products-section">
        <div class="container">
            <div class="section-header">
                <h2>Productos Destacados</h2>
                <a th:href="@{/category}" class="view-all">
                    Ver todos
                    <i class="fas fa-arrow-right"></i>
                </a>
            </div>

            <!-- Si hay productos -->
            <div th:if="${productos != null and !productos.isEmpty()}" class="products-grid">
                <div th:each="producto : ${productos}" class="product-card">
                    <div class="product-image">
                        <img th:src="${producto.imagenUrl}" th:alt="${producto.nombre}"
                            onerror="this.src='/images/placeholder.jpg'">
                        <div class="product-badge">Fresco</div>
                    </div>
                    <div class="product-info">
                        <h3 th:text="${producto.nombre}">Nombre del Producto</h3>
                        <div class="product-meta">
                            <i class="fas fa-map-marker-alt"></i>
                            <span>Productor local</span>
                        </div>
                        <div class="product-price">
                            <span th:text="'$' + ${#numbers.formatDecimal(producto.precio, 0, 'COMMA', 0, 'POINT')}">$0</span>
                        </div>
                        <div class="product-actions">
                            <a th:href="@{/producto/{id}(id=${producto.id})}" class="btn-view">
                                <i class="fas fa-eye"></i>
                                Ver
                            </a>
                            <form th:action="@{/carrito/agregar}" method="post" style="flex: 1;">
                                <input type="hidden" name="productoId" th:value="${producto.id}">
                                <button type="submit" class="btn-add-cart">
                                    <i class="fas fa-cart-plus"></i>
                                    Agregar
                                </button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Si NO hay productos -->
            <div th:if="${productos == null or productos.isEmpty()}" class="empty-state">
                <div class="empty-icon">
                    <i class="fas fa-box-open"></i>
                </div>
                <h3>No hay productos disponibles</h3>
                <p>Estamos trabajando para traerte los mejores productos frescos muy pronto.</p>
                <a th:href="@{/category}" class="btn-explore">
                    <i class="fas fa-search"></i>
                    Explorar categorÃ­as
                </a>
            </div>
        </div>
    </section>

    <!-- Ãšltimos Productos -->
    <section class="products-section">
        <div class="container">
            <div class="section-header">
                <h2>ReciÃ©n Agregados</h2>
                <a th:href="@{/category}" class="view-all">
                    Ver todos
                    <i class="fas fa-arrow-right"></i>
                </a>
            </div>

            <div class="products-grid">
                <!-- AquÃ­ irÃ­an los Ãºltimos productos agregados -->
                <!-- Por ahora mostramos un mensaje si no hay -->
                <div class="empty-state">
                    <div class="empty-icon">
                        <i class="fas fa-clock"></i>
                    </div>
                    <h3>Nuevos productos prÃ³ximamente</h3>
                    <p>Mantente atento a las novedades de nuestros productores.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Banner de Ofertas -->
    <section class="offers-section">
        <div class="container">
            <div class="offers-banner">
                <div class="offers-content">
                    <h2>ðŸ”¥ Ofertas Especiales</h2>
                    <p>Descuentos exclusivos en productos seleccionados</p>
                    <a th:href="@{/ofertas}" class="btn-offers">
                        <i class="fas fa-tags"></i>
                        Ver ofertas
                    </a>
                </div>
            </div>
        </div>
    </section>

    <!-- Footer -->
    <footer th:replace="fragments/footer :: siteFooter"></footer>

</body>

</html>